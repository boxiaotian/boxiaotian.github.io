<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0 user-scalable=no">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>我的报缺</title>
    <link rel="stylesheet" href="./css/PublicStyle.css">
    <link rel="stylesheet" href="./css/history_search.css">
    <script src="./js/web.js"></script>
    <script src="./js/jquery.js"></script>
  </head>

  <body>
    <div class="page">
      <article>
        <div class="search">
          <a href="javascript:;" class="back"></a>
          <div style="position: relative;">
            <img src="./image/search.png" alt="">
            <input type="text" placeholder="搜索商品" id="search">
          </div>
          <div style="width: 1.2rem;">搜索</div>
        </div>
        <div class="popular">
          <h6><img src="./image/popular.png" alt="">热门搜索</h6>
          <div id="popular">
            <!-- <span>感冒颗粒</span> -->
          </div>
        </div>
        <div class="history">
          <div class="title_xt">
            <div class="history_xt">
              <img src="./image/history.png" alt="">
              搜索历史
            </div>
            <img class="empty" src="./image/empty.png" alt="">
          </div>
          <ul id="history">
            <!-- <li>
              <span>阿莫西林</span>
              <span>2017-12-01<img src="./image/dump.png" alt=""></span>
            </li> -->
          </ul>
        </div>
      </article>
    </div>
  </body>
  <script>
    $(function () {
      $("#search").focus(function () {
        // alert(2)
      var hrt = document.documentElement.clientHeight || window.innerHeight; //获取当前可视区域的高度存到hrt变量
        $(".page").css("height", hrt+'px')//把获取到的高度赋值给根div
        $(".search").css("height", '.92rem')
        $(".popular").css("height", '4.35rem')
        $(".history").css("height", '7.8506rem')
      });
      $("#search").blur(function () {
        $(".page").css("height", '100%')
        $(".search").css("height", '6.9vh')
        $(".popular").css("height", '32.61vh')
        $(".history").css("height", '58.85vh')
      });
      var popularList = [1, 2, 3, 4, 5]
      popularList.forEach(item => {
        $("#popular").append(' <span>感冒颗粒' + item + '</span>')
      });
      $("#popular span").click(function () {
        $("#search").val($(this).text())
      })
      var historyList = [1,2,3,4]
      historyList.forEach(item => {
      $("#history").append('<li><span>阿莫西林'+item+'</span><span>2017-12-01<img src="./image/dump.png" alt=""></span></li>')
      });
    })
  </script>

</html>