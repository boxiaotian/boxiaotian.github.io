<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>团购商品详情</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#FF8C00',
                        secondary: '#4CAF50',
                        background: '#F8F8F8',
                        textDark: '#333333',
                        textLight: '#666666'
                    }
                }
            }
        }
    </script>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background-color: #F8F8F8;
            touch-action: manipulation;
        }
        .phone-container {
            position: relative;
            width: 375px;
            height: 812px;
            margin: 20px auto;
            background-color: white;
            border-radius: 40px;
            overflow: hidden;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
        }
        .phone-screen {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border-radius: 40px;
            overflow: hidden;
            background-color: white;
        }
        .notch {
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 180px;
            height: 30px;
            background-color: #000;
            border-bottom-left-radius: 15px;
            border-bottom-right-radius: 15px;
            z-index: 10;
        }
        .status-bar {
            height: 44px;
            width: 100%;
            background-color: white;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 20px;
            box-sizing: border-box;
            z-index: 5;
        }
        .content-area {
            height: calc(100% - 44px);
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
            position: relative;
            padding-bottom: 72px;
        }
        .swiper-container {
            position: relative;
            overflow: hidden;
        }
        .swiper-slide {
            transition: transform 0.3s ease;
        }
        .countdown {
            animation: pulse 1s infinite;
        }
        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.8; }
            100% { opacity: 1; }
        }
    </style>
</head>
<body>
    <div class="phone-container">
        <div class="notch"></div>
        <div class="phone-screen">
            <!-- 状态栏 -->
            <div class="status-bar">
                <div class="time font-semibold">9:41</div>
                <div class="icons flex gap-1">
                    <i class="fas fa-signal"></i>
                    <i class="fas fa-wifi"></i>
                    <i class="fas fa-battery-full"></i>
                </div>
            </div>

            <!-- 内容区域 -->
            <div class="content-area bg-[#F8F8F8]" id="contentArea">
                <!-- 顶部导航 & Tabs -->
                <div id="topBar" class="sticky top-0 bg-white w-full shadow-md z-40 flex items-center px-4 py-3">
                    <!-- 返回按钮 -->
                    <button class="text-textDark mr-4" onclick="window.history.back()">
                        <i class="fas fa-arrow-left text-xl"></i>
                    </button>

                    <!-- Tabs -->
                    <div class="flex-1 flex justify-center space-x-6 text-textLight text-base">
                        <a href="#goods" class="nav-link text-primary border-b-2 border-primary pb-1">商品</a>
                        <a href="#comment" class="nav-link pb-1">评论</a>
                        <a href="#detail" class="nav-link pb-1">详情</a>
                    </div>

                    <!-- 右侧占位图标 -->
                    
                </div>

                <!-- 商品图片轮播 -->
                <div class="swiper-container bg-white" id="goods">
                    <div class="relative h-80">
                        <img src="https://picsum.photos/800/600" alt="商品图片" class="w-full h-full object-cover">
                        <div class="absolute bottom-4 right-4 bg-black bg-opacity-50 text-white px-2 py-1 rounded-full text-sm">
                            1/3
                        </div>
                    </div>
                </div>

                <!-- 商品信息 -->
                <div class="bg-white p-4">
                    <div class="flex items-center justify-between">
                        <div class="text-2xl font-bold text-primary">¥99.00</div>
                        <div class="text-textLight line-through">¥199.00</div>
                    </div>
                    <h1 class="text-xl font-bold text-textDark mt-2">高品质有机蔬菜礼盒</h1>
                    <div class="flex items-center mt-2 text-sm text-textLight">
                        <span>已售 1234</span>
                        <span class="mx-2">|</span>
                        <span>好评率 98%</span>
                    </div>
                </div>

                <!-- 商品规格 -->
                <div class="bg-white p-4 mt-2">
                    <div class="flex items-center justify-between" onclick="showSpecModal()">
                        <div class="flex items-center">
                            <span class="text-textDark">已选</span>
                            <span class="text-textLight ml-2">请选择规格</span>
                        </div>
                        <i class="fas fa-chevron-right text-textLight"></i>
                    </div>
                </div>

                <!-- 购买须知 -->
                <div class="bg-white p-4 mt-2">
                     <h2 class="text-lg font-bold text-textDark mb-2">购买须知</h2>
                     <div class="text-sm text-textLight space-y-1">
                         <p>本商品为社区团购，**20份** 起订。</p>
                         <p>您可以单独购买，或邀请邻里好友共同参团，总订购量满20份即可成功提货。</p>
                     </div>
                </div>

                <!-- 商品评论 -->
                <div class="bg-white p-4 mt-2" id="comment">
                    <div class="flex items-center justify-between mb-3">
                        <h2 class="text-lg font-bold text-textDark">商品评价(1234)</h2>
                        <div class="flex items-center text-textLight" onclick="alert('跳转到全部评论页')">
                            <span>查看全部</span>
                            <i class="fas fa-chevron-right ml-2"></i>
                        </div>
                    </div>
                    <!-- 评论列表 -->
                    <div class="section-card mb-2">
                        <div class="flex overflow-x-auto space-x-4 pb-2 hide-scroll-bar">
                            <!-- 评论列表项 -->
                            <div class="flex-shrink-0 w-64 border rounded-lg p-3 bg-gray-50 flex">
                                <div class="flex-1 pr-3">
                                    <div class="flex items-center mb-2">
                                        <img src="https://picsum.photos/id/100/40/40" alt="用户头像" class="w-8 h-8 rounded-full object-cover">
                                        <div class="ml-2">
                                            <div class="text-sm font-medium text-textDark">快乐购物人</div>
                                            <div class="text-xs text-textLight">2024-03-20</div>
                                        </div>
                                    </div>
                                    <div class="text-sm text-textDark mb-2 line-clamp-2">
                                        商品质量非常好，包装也很精美，物流速度快，很满意的一次购物体验！值得推荐！商品质量非常好，包装也很精美，物流速度快，很满意的一次购物体验！
                                    </div>
                                </div>
                                <div class="flex-shrink-0 w-20 h-20 relative">
                                    <img src="https://picsum.photos/id/201/80/80" alt="评论图片" class="w-20 h-20 object-cover rounded">
                                    <!-- 图片数量标记 -->
                                    <div class="absolute bottom-1 right-1 bg-black bg-opacity-50 text-white text-xs px-1 rounded">3</div>
                                </div>
                            </div>
                            <!-- 评论列表项2 -->
                            <div class="flex-shrink-0 w-64 border rounded-lg p-3 bg-gray-50 flex">
                                <div class="flex-1 pr-3">
                                     <div class="flex items-center mb-2">
                                         <img src="https://picsum.photos/id/101/40/40" alt="用户头像" class="w-8 h-8 rounded-full object-cover">
                                         <div class="ml-2">
                                             <div class="text-sm font-medium text-textDark">资深剁手党</div>
                                             <div class="text-xs text-textLight">2024-03-21</div>
                                         </div>
                                     </div>
                                     <div class="text-sm text-textDark mb-2 line-clamp-2">
                                         收到了，包装完好，果子很新鲜，分量也足，下次还会再来！包装完好，果子很新鲜，分量也足。
                                     </div>
                                 </div>
                                 <div class="flex-shrink-0 w-20 h-20 relative">
                                     <img src="https://picsum.photos/id/204/80/80" alt="评论图片" class="w-20 h-20 object-cover rounded">
                                     <!-- 图片数量标记 -->
                                     <div class="absolute bottom-1 right-1 bg-black bg-opacity-50 text-white text-xs px-1 rounded">2</div>
                                 </div>
                             </div>
                             <!-- 评论列表项3 -->
                             <div class="flex-shrink-0 w-64 border rounded-lg p-3 bg-gray-50 flex">
                                 <div class="flex-1 pr-3">
                                     <div class="flex items-center mb-2">
                                         <img src="https://picsum.photos/id/102/40/40" alt="用户头像" class="w-8 h-8 rounded-full object-cover">
                                         <div class="ml-2">
                                             <div class="text-sm font-medium text-textDark">社区居民A</div>
                                             <div class="text-xs text-textLight">2024-03-22</div>
                                         </div>
                                     </div>
                                     <div class="text-sm text-textDark mb-2 line-clamp-2">
                                         物流配送很快，直接送货上门，很方便，商品也不错。物流配送很快。
                                     </div>
                                 </div>
                                 <div class="flex-shrink-0 w-20 h-20 relative">
                                     <img src="https://picsum.photos/id/206/80/80" alt="评论图片" class="w-20 h-20 object-cover rounded">
                                     <!-- 图片数量标记 -->
                                     <div class="absolute bottom-1 right-1 bg-black bg-opacity-50 text-white text-xs px-1 rounded">1</div>
                                 </div>
                             </div>
                             <!-- 可添加更多评论项，超出部分将横向滚动 -->
                        </div>
                    </div>
                </div>

                <!-- 商品详情 -->
                <div class="bg-white mt-2" id="detail">
                    <h2 class="text-lg font-bold text-textDark p-4 border-b">商品详情</h2>
                    <div class="space-y-2">
                        <img src="https://picsum.photos/800/1000" alt="商品详情" class="w-full">
                        <img src="https://picsum.photos/800/1000" alt="商品详情" class="w-full">
                        <img src="https://picsum.photos/800/1000" alt="商品详情" class="w-full">
                    </div>
                </div>

            </div> <!-- End of content-area -->

            <!-- 底部操作栏 -->
            <div class="absolute bottom-0 left-0 right-0 bg-white shadow-lg px-4 py-2">
                <div class="flex items-center h-12">
                    <div class="flex-1 flex items-center space-x-4 h-full">
                        <button class="flex flex-col items-center justify-center h-full text-textLight" onclick="window.location.href = 'cart.html'">
                            <i class="fas fa-shopping-cart text-xl"></i>
                            <span class="text-xs">购物车</span>
                        </button>
                        <button class="flex flex-col items-center justify-center h-full text-textLight" onclick="window.location.href = 'index.html'">
                            <i class="fas fa-home text-xl"></i>
                            <span class="text-xs">首页</span>
                        </button>
                    </div>
                    <div class="flex-1 flex h-full">
                        <button class="flex-1 bg-secondary text-white py-2 rounded-l-lg rounded-r-none font-bold text-sm" onclick="showSpecModal()">
                            加入购物车
                        </button>
                        <button class="flex-1 bg-primary text-white py-2 rounded-r-lg rounded-l-none font-bold text-sm" onclick="showSpecModal()">
                            立即购买
                        </button>
                    </div>
                </div>
            </div>

            <!-- 规格选择弹窗 -->
            <div id="specModal" class="absolute inset-0 bg-black bg-opacity-50 hidden z-50 flex items-end justify-center">
                <div class="bg-white rounded-t-2xl w-full">
                    <div class="p-4">
                        <div class="flex items-center justify-between mb-4">
                            <img src="https://picsum.photos/80/80" alt="商品图片" class="w-20 h-20 rounded">
                            <div class="flex-1 ml-4">
                                <div class="text-primary font-bold">¥99.00</div>
                                <div class="text-sm text-textLight">已选：请选择规格</div>
                            </div>
                            <button onclick="closeSpecModal()" class="text-textLight">
                                <i class="fas fa-times text-xl"></i>
                            </button>
                        </div>
                        <div class="border-t pt-4">
                            <h3 class="text-textDark font-bold mb-2">规格</h3>
                            <div class="flex flex-wrap gap-2">
                                <button class="px-4 py-2 border rounded-full text-textDark hover:border-primary hover:text-primary">
                                    小份装
                                </button>
                                <button class="px-4 py-2 border rounded-full text-textDark hover:border-primary hover:text-primary">
                                    中份装
                                </button>
                                <button class="px-4 py-2 border rounded-full text-textDark hover:border-primary hover:text-primary">
                                    大份装
                                </button>
                            </div>
                        </div>
                        <div class="mt-4">
                            <button class="w-full bg-primary text-white py-3 rounded-full font-bold" onclick="window.location.href = 'checkout.html'">
                                确定
                            </button>
                        </div>
                    </div>
                </div>
            </div>

        </div> <!-- End of phone-screen -->
    </div>

    <script>
        // Smooth scroll for nav links
        const contentArea = document.getElementById('contentArea');
        const topBar = document.getElementById('topBar'); // Renamed from stickyNav
        const goodsSection = document.getElementById('goods');

        if(contentArea && topBar && goodsSection) {
            // Removed scroll listener for showing/hiding as it's always visible

            // Smooth scroll for nav links
            document.querySelectorAll('#topBar a.nav-link').forEach(anchor => { // Updated selector
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const targetId = this.getAttribute('href').substring(1);
                    const targetElement = document.getElementById(targetId);

                    if (targetElement) {
                         // Calculate the position to scroll to relative to the contentArea
                        const targetOffsetTop = targetElement.offsetTop; // Use offsetTop relative to contentArea
                        const topBarHeight = topBar.offsetHeight; // Get top bar height

                        // Scroll to the target element, adjusting for the top bar height
                        contentArea.scrollTo({
                            top: targetOffsetTop - topBarHeight,
                            behavior: 'smooth'
                        });

                        // Update active tab style
                         document.querySelectorAll('#topBar a.nav-link').forEach(link => link.classList.remove('text-primary', 'border-primary', 'border-b-2'));
                         this.classList.add('text-primary', 'border-primary', 'border-b-2');
                    }
                });
            });
        }

        // 规格选择弹窗
        function showSpecModal() {
            document.getElementById('specModal').classList.remove('hidden');
        }

        function closeSpecModal() {
            document.getElementById('specModal').classList.add('hidden');
        }

    </script>
</body>
</html> 